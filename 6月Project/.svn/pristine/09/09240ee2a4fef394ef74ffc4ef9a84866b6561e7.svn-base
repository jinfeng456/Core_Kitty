
using GK.WMS.DAL;

using GK.WMS.Entity;
using HY.WCS.DAL;
using HY.WCS.DAL.dto;
using HY.WCS.Entity.dto;
using System;
using System.Collections.Generic;
using System.Security.Cryptography;
using System.Text;
using System.Web;


using System.Web.Http;
using System.Web.Http.Cors;
using Web.Authorize;

namespace WebApi
{
    [FormAuthenticationFilter]

    [RoutePrefix("api/users")]
    public class UsersController : BaseApiController
    {


        ISysAuthorityServer authorityServer =WMSDalFactray.getDal<ISysAuthorityServer>();

        [HttpGet, Route("info")]
        public BaseResult info( ) {
            String data = " 0";
           

            
            return new BaseResult("admin");
        }



        [HttpGet, Route("GetUserlist")]
        public BaseResult GetUserlist()
        {
            return new BaseResult(authorityServer.getAllUser());
        }


        [HttpPost, Route("UpdateUser")]
        public BaseResult UpdateUser([FromBody]SysUser user)
        {
            return new BaseResult(authorityServer.updateUser(user));
        }

        [HttpPost, Route("AddUser")]
        public BaseResult AddUser([FromBody]SysUser user)
        {
            return new BaseResult(authorityServer.addUser(user));
        }
    }
}
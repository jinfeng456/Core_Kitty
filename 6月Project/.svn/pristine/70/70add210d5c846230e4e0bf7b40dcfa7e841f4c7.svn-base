using GK.Common.dto;
using GK.WMS.Entity;
using GK.WWS.Entity;
using System;
using System.Collections.Generic;
using System.Data;
using System.Linq;
using System.Text;
using Dapper;
using GK.Common;

namespace GK.WMS.DAL.abs
{
    public abstract class AbsSysAuthorityServer : AbsWMSBaseServer, ISysAuthorityServer
    {
        public long addRole(SysRole role)
        {
            throw new NotImplementedException();
        }

        public long addUser(SysUser user)
        {
            return Connection.Insert<SysUser>(user);
        }

        public List<SysMenu> getAllMenu()
        {
            throw new NotImplementedException();
        }

        public List<SysRole> getAllRole()
        {
            throw new NotImplementedException();
        }

        public List<SysMenu> getMenu(long userId)
        {
            throw new NotImplementedException();
        }

        public List<SysUser> getUser(string loginName, string password)
        {

            String sql = "select * from sys_user where login_Name=@loginName and password=@password";
            return Connection.Query<SysUser>(sql, new { loginName = loginName, password = password }).ToList();

        }

        public Page<SysUser> queryUserPage<SysUser>(int start, int end, string orderBy, object param = null)
        {
            throw new NotImplementedException();
        }

        public List<SysUser> getAllUser()
        {
            String sql = "select * from sys_user";
            return Connection.Query<SysUser>(sql).ToList();
        }

        public bool updateUser(SysUser user)
        {
            return Connection.Update<SysUser>(user);
        }
    }
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>canvas 大屏效果图</title>
    <style>
    *{margin:0;padding:0;}
    body{text-align:center;background-color:#000;}
    </style>
</head>
<script src='base.js' lang="utf-8"></script>
<body>
    <canvas id="canvas" width="700" height="500" style="background:#000;"></canvas>
     <button id="fullScreenBtn">全屏</button>
    <script>
  
    globalX=0;
    globalY=0; 
      function myDraw(context){
      		storeRoom.draw();
					yzj1.draw();
					line2.draw();
					yzj3.draw();
					line4.draw();
					line5.draw();
					line6.draw();
					line7.draw();
					
					line8.draw();
				  line9.draw();
		      crane1.draw();
		      crane2.draw();
		      product1.setAnchor(crane1.getAnchor());
		      product1.draw();
      		
          var crane2Anchor = crane2.getAnchor();
          if(crane2Anchor.x>1110+globalX){
            crane2.xtemp=-1
          	crane2.ytemp=0
          }
          
        
          if(crane2Anchor.x<200+globalX){
            crane2.xtemp=1
          	crane2.ytemp=0
         
          }
            crane2.move(crane2.xtemp,crane2.ytemp)
          
          var crane1Anchor = crane1.getAnchor();
          if(crane1Anchor.x>1110+globalX){
            crane1.xtemp=-1
          	crane1.ytemp=0
          }
          if(crane1Anchor.x<200+globalX){
          	crane1.xtemp=1
          	crane1.ytemp=0
          }
           crane1.move(crane1.xtemp,crane1.ytemp)
           
      } 
        
        window.onload = function(){
            var canvas = document.getElementById('canvas');
            var context = canvas.getContext('2d');
            canvas.height= window.screen.height 
            canvas.width= window.screen.width 
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.fillStyle="#0ff";
            context.fillRect(0,0,canvas.width,canvas.height);
            context.translate(0.5,0.5);
            
		        line5= new CarrierChain(context,1150+globalX,200+globalY,100,17);
		        line6=new CarrierChain(context,1150+globalX,260+globalY,100,17);
		       
		        line2= new  CarrierChain(context,160+globalX,200+globalY,100,17);
		        line4=new CarrierChain(context,160+globalX,260+globalY,100,17);
		       
		        line7 =new  CarrierChain(context,100+globalX,170+globalY,40,17,90)
		        line8= new CarrierChain(context,100+globalX,230+globalY,40,17,90);
		        line9=new  CarrierChain(context,100+globalX,300+globalY,60,17,90);
		        yzj1=new Yzj(context,100+globalX,200+globalY,16,12);
		        yzj3=new Yzj(context,100+globalX,260+globalY,16,12);
		        storeRoom = new  StoreRoom(context,50+globalX,20+globalY);
		       
		        crane1=new Crane(context,1000+globalX,220+globalY,20);
		        crane1.xtemp=1
		        crane1.ytemp=0
		        
		        crane2=new Crane(context,800+globalX,280+globalY,20);
		  		  crane2.xtemp=1
		        crane2.ytemp=0
					        
					  product1=new Product(context,1000+globalX,220+globalY);
					            
					  storeRoom.addStockProduct(1010101,1,"#ff00ff")  
					  storeRoom.addStockProduct(1010102,1,"#ff00ff")  
					  storeRoom.addStockProduct(1010103,1,"#ff00ff")
					  storeRoom.addStockProduct(1010104,1,"#ff00ff")  
					  storeRoom.addStockProduct(1010105,1,"#ff00ff")  
					  storeRoom.addStockProduct(1010106,1,"#ff00ff")          
					  storeRoom.addStockProduct(1010107,1,"#ff00ff")  
					  storeRoom.addStockProduct(1010108,1,"#ff00ff")  
					  storeRoom.addStockProduct(1010109,1,"#ff00ff")   
					   
					  storeRoom.addStockProduct(2010101,2,"#ff00ff")  
					  storeRoom.addStockProduct(2010102,2,"#ff00ff")  
					  storeRoom.addStockProduct(2010103,2,"#ff00ff")
					  storeRoom.addStockProduct(2010104,2,"#ff00ff")  
					  storeRoom.addStockProduct(2010105,2,"#ff00ff")  
					  storeRoom.addStockProduct(2010106,2,"#ff00ff")          
					  storeRoom.addStockProduct(2010107,2,"#ff00ff")  
					  storeRoom.addStockProduct(2010108,2,"#ff00ff")  
					  storeRoom.addStockProduct(2010109,2,"#ff00ff") 
		        storeRoom.addStockProduct(2010110,2,"#ff00ff")  
					  storeRoom.addStockProduct(2010111,2,"#ff00ff") 
		   
       	  
         
            
            
            //动画循环
			        (function drawFrame(){
			            window.requestAnimationFrame(drawFrame);
			            context.clearRect(0, 0, canvas.width, canvas.height);
			            context.fillStyle="#0ff";
			            context.fillRect(0,0,canvas.width,canvas.height);
			            myDraw(context);
			        }());
			        
			       
			         
			        
			        
            
   }
    </script>
</body>

<script src='Fullscreen.js' lang="utf-8"></script>
<script src='component.js' lang="utf-8"></script>
</html>
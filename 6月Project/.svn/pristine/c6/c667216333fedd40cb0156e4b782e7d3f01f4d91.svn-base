using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using GK.WCS.DAL;
using GK.WMS.Entity;
using GK.WCS.Common;

namespace GK.WCS.Controller {

    public class Wms2WcsTask:ZtTask {
        private static object lock_obj = new object();
        public Wms2WcsTask() {
            time = 500;
        }
       // MESDAL mesDAL = new MESDAL();
     //   WcsProcedure wcsProcedure = new WcsProcedure();

        public override bool init() {
            return true;
        }
        public override void excute() {
            List<CoreTask> list = null;// mesDAL.getUnsyncTaskLiku();
            foreach(CoreTask task in list) {
                sync(task);
            }
        }

        public void sync(CoreTask task) {
            lock(lock_obj) {
                String info = "";
                if(task.TaskType == 1) {
                 ////info= wcsProcedure.wcsCreateIn(task.id,task.SrcID,task.DesID,task.boxCode,task.stockType*10+ task.Thickness);
                } else if(task.TaskType == 2) {
                   ////info= wcsProcedure.wcsCreateOut(task.id,task.SrcID,task.DesID,task.boxCode,task.stockType * 10 + task.Thickness,task.relyTaskId);
                } else if(task.TaskType == 3) {
                  //info= wcsProcedure.wcsCreateMove(task.id,task.SrcID,task.DesID,task.boxCode,task.relyTaskId,task.stockType * 10 + task.Thickness);
                } else if(task.TaskType == 4) {//摆渡
                }
                if(info.StartsWith("ok")) {
                    //mesDAL.syncTask(task.id);
                }
            }


        }

    }
}
